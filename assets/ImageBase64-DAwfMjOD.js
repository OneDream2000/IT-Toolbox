import{d as P,r as p,q as I,b as R,e as a,w as t,f as r,o as m,i as k,n as _,g as n,s as Q,v as X,k as F,p as i,E as A}from"./index-B3XlhfYc.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"tool-container"},h={key:0,class:"upload-area"},ee={key:1,class:"preview-container"},le=["src"],ae={key:0,class:"image-info"},te={class:"button-group"},oe={class:"copy-button"},ne={class:"copy-button"},se={class:"copy-button"},ue={class:"copy-button"},de={class:"decoded-image-container"},re=["src"],ie={class:"image-actions"},me=P({__name:"ImageBase64",setup(ve){const S=p("encode"),f=p(""),C=p(null),y=p(null),s=p(""),u=p(""),T=p("dataUri"),V=p(""),c=p(""),z=I(()=>s.value?s.value:""),D=I(()=>s.value&&s.value.split(",")[1]||""),$=I(()=>s.value?`.element {
  background-image: url(${s.value});
}`:""),L=I(()=>s.value?`<img src="${s.value}" alt="Base64 encoded image" />`:""),H=l=>{if(!l){U();return}if(C.value=l.raw,!l.raw.type.startsWith("image/")){u.value="请选择图片文件",U();return}if(l.raw.size>5*1024*1024){u.value="图片大小不能超过 5MB",U();return}u.value="",f.value=URL.createObjectURL(l.raw);const e=new FileReader;e.onload=g=>{var d;const b=new Image;b.onload=()=>{y.value={name:l.raw.name,size:O(l.raw.size),dimensions:`${b.width} × ${b.height}`}},b.src=(d=g.target)==null?void 0:d.result},e.readAsDataURL(l.raw),E()},O=l=>l<1024?l+" B":l<1024*1024?(l/1024).toFixed(2)+" KB":(l/(1024*1024)).toFixed(2)+" MB",E=()=>{if(!C.value){u.value="请先选择图片";return}const l=new FileReader;l.onload=e=>{var g;s.value=(g=e.target)==null?void 0:g.result},l.onerror=()=>{u.value="图片编码失败，请重试"},l.readAsDataURL(C.value)},U=()=>{f.value&&URL.revokeObjectURL(f.value),f.value="",C.value=null,y.value=null,s.value="",u.value=""},x=async l=>{if(l)try{await navigator.clipboard.writeText(l),A.success("复制成功")}catch{A.error("复制失败，请手动复制")}},W=()=>{if(!V.value){u.value="请输入Base64字符串";return}u.value="";try{let l=V.value.trim();l.startsWith("data:")||(l=`data:image/png;base64,${l}`),c.value=l}catch{u.value="Base64解码失败，请检查输入是否正确",c.value=""}},q=()=>{V.value="",c.value="",u.value=""},K=()=>{if(!c.value)return;const l=document.createElement("a");l.href=c.value,l.download=`decoded-image-${new Date().getTime()}.png`,document.body.appendChild(l),l.click(),document.body.removeChild(l)};return(l,e)=>{const g=r("el-icon"),b=r("el-upload"),d=r("el-form-item"),v=r("el-button"),M=r("el-divider"),B=r("el-input"),w=r("el-tab-pane"),N=r("el-tabs"),j=r("el-form"),G=r("el-alert"),J=r("el-card");return m(),R("div",Z,[a(J,{class:"tool-card"},{header:t(()=>e[11]||(e[11]=[n("div",{class:"card-header"},[n("h2",null,"图片 Base64 编码/解码工具")],-1)])),default:t(()=>[a(N,{modelValue:S.value,"onUpdate:modelValue":e[10]||(e[10]=o=>S.value=o),class:"main-tabs"},{default:t(()=>[a(w,{label:"图片转Base64",name:"encode"},{default:t(()=>[a(j,null,{default:t(()=>[a(d,null,{default:t(()=>[a(b,{class:"image-uploader",action:"#","auto-upload":!1,"show-file-list":!1,"on-change":H,accept:"image/*"},{default:t(()=>[f.value?(m(),R("div",ee,[n("img",{src:f.value,class:"preview-image"},null,8,le),y.value?(m(),R("div",ae,[n("div",null,F(y.value.name),1),n("div",null,F(y.value.size),1),n("div",null,F(y.value.dimensions),1)])):_("",!0)])):(m(),R("div",h,[a(g,{class:"upload-icon"},{default:t(()=>[a(Q(X))]),_:1}),e[12]||(e[12]=n("div",{class:"upload-text"},"点击或拖拽图片到此处",-1))]))]),_:1})]),_:1}),f.value?(m(),k(d,{key:0},{default:t(()=>[n("div",te,[a(v,{type:"primary",onClick:E},{default:t(()=>e[13]||(e[13]=[i("生成 Base64")])),_:1}),a(v,{onClick:U},{default:t(()=>e[14]||(e[14]=[i("清空")])),_:1})])]),_:1})):_("",!0),s.value?(m(),k(M,{key:1,"content-position":"center"},{default:t(()=>e[15]||(e[15]=[i("Base64 编码结果")])),_:1})):_("",!0),s.value?(m(),k(N,{key:2,modelValue:T.value,"onUpdate:modelValue":e[8]||(e[8]=o=>T.value=o),class:"result-tabs"},{default:t(()=>[a(w,{label:"Data URI",name:"dataUri"},{default:t(()=>[a(d,null,{default:t(()=>[a(B,{modelValue:z.value,"onUpdate:modelValue":e[0]||(e[0]=o=>z.value=o),type:"textarea",rows:4,placeholder:"Data URI 格式",readonly:""},null,8,["modelValue"]),n("div",oe,[a(v,{type:"primary",size:"small",onClick:e[1]||(e[1]=o=>x(z.value))},{default:t(()=>e[16]||(e[16]=[i("复制")])),_:1})])]),_:1})]),_:1}),a(w,{label:"CSS",name:"css"},{default:t(()=>[a(d,null,{default:t(()=>[a(B,{modelValue:$.value,"onUpdate:modelValue":e[2]||(e[2]=o=>$.value=o),type:"textarea",rows:4,placeholder:"CSS 代码",readonly:""},null,8,["modelValue"]),n("div",ne,[a(v,{type:"primary",size:"small",onClick:e[3]||(e[3]=o=>x($.value))},{default:t(()=>e[17]||(e[17]=[i("复制")])),_:1})])]),_:1})]),_:1}),a(w,{label:"HTML",name:"html"},{default:t(()=>[a(d,null,{default:t(()=>[a(B,{modelValue:L.value,"onUpdate:modelValue":e[4]||(e[4]=o=>L.value=o),type:"textarea",rows:4,placeholder:"HTML 代码",readonly:""},null,8,["modelValue"]),n("div",se,[a(v,{type:"primary",size:"small",onClick:e[5]||(e[5]=o=>x(L.value))},{default:t(()=>e[18]||(e[18]=[i("复制")])),_:1})])]),_:1})]),_:1}),a(w,{label:"纯 Base64",name:"base64"},{default:t(()=>[a(d,null,{default:t(()=>[a(B,{modelValue:D.value,"onUpdate:modelValue":e[6]||(e[6]=o=>D.value=o),type:"textarea",rows:4,placeholder:"纯 Base64 编码",readonly:""},null,8,["modelValue"]),n("div",ue,[a(v,{type:"primary",size:"small",onClick:e[7]||(e[7]=o=>x(D.value))},{default:t(()=>e[19]||(e[19]=[i("复制")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])):_("",!0)]),_:1})]),_:1}),a(w,{label:"Base64转图片",name:"decode"},{default:t(()=>[a(j,null,{default:t(()=>[a(d,null,{default:t(()=>[a(B,{modelValue:V.value,"onUpdate:modelValue":e[9]||(e[9]=o=>V.value=o),type:"textarea",rows:6,placeholder:"请输入Base64字符串（可以是完整的Data URI或纯Base64编码）"},null,8,["modelValue"])]),_:1}),a(d,null,{default:t(()=>[a(v,{type:"primary",onClick:W},{default:t(()=>e[20]||(e[20]=[i("解码并预览")])),_:1}),a(v,{onClick:q},{default:t(()=>e[21]||(e[21]=[i("清空")])),_:1})]),_:1}),c.value?(m(),k(M,{key:0,"content-position":"center"},{default:t(()=>e[22]||(e[22]=[i("预览结果")])),_:1})):_("",!0),c.value?(m(),k(d,{key:1},{default:t(()=>[n("div",de,[n("img",{src:c.value,class:"decoded-image"},null,8,re),n("div",ie,[a(v,{type:"primary",size:"small",onClick:K},{default:t(()=>e[23]||(e[23]=[i("下载图片")])),_:1})])])]),_:1})):_("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),u.value?(m(),k(G,{key:0,title:u.value,type:"error","show-icon":"",closable:!1},null,8,["title"])):_("",!0)]),_:1})])}}}),fe=Y(me,[["__scopeId","data-v-accd7f46"]]);export{fe as default};
