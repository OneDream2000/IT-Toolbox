import{d as ae,r as u,x as oe,y as ne,b as W,e as t,w as a,f as m,o as M,g as s,p as d,k as F,i as Z,n as q,F as se,h as re,E as G}from"./index-B3XlhfYc.js";import{_ as ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";const de={class:"tool-container"},ie={class:"current-time"},me={class:"result-row"},ve={class:"result-row"},pe={class:"result-row"},fe={class:"result-row"},ye=ae({__name:"Timestamp",setup(ce){const H=l=>{const e=l.getFullYear(),n=String(l.getMonth()+1).padStart(2,"0"),i=String(l.getDate()).padStart(2,"0"),y=String(l.getHours()).padStart(2,"0"),v=String(l.getMinutes()).padStart(2,"0"),r=String(l.getSeconds()).padStart(2,"0");return`${e}-${n}-${i} ${y}:${v}:${r}`},Q=[{label:"UTC (协调世界时)",value:"UTC"},{label:"Asia/Shanghai (北京时间)",value:"Asia/Shanghai"},{label:"America/New_York (纽约)",value:"America/New_York"},{label:"Europe/London (伦敦)",value:"Europe/London"},{label:"Asia/Tokyo (东京)",value:"Asia/Tokyo"},{label:"Australia/Sydney (悉尼)",value:"Australia/Sydney"},{label:"Europe/Paris (巴黎)",value:"Europe/Paris"}],b=u("Asia/Shanghai"),_=u(H(new Date)),c=u(""),g=u(""),k=u(Date.now().toString()),$=u("millisecond"),w=u(""),V=u(""),T=u(""),C=u(""),p=u(""),D=u(""),U=u(""),A=u(0),I=u(0);let J=null;const X=()=>{Y(),_.value&&L(),k.value&&N()},Y=()=>{const l=new Date;U.value=E(l,b.value),A.value=Math.floor(l.getTime()/1e3),I.value=l.getTime()},E=(l,e)=>{try{return new Intl.DateTimeFormat("zh-CN",{timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(l).replace(/\//g,"-")}catch{return H(l)}},L=()=>{if(T.value="",!_.value){c.value="",g.value="";return}try{const l=new Date(_.value);c.value=Math.floor(l.getTime()/1e3).toString(),g.value=l.getTime().toString()}catch{T.value="日期转换失败，请检查输入格式",c.value="",g.value=""}},N=()=>{if(T.value="",!k.value){w.value="",V.value="";return}try{const l=parseInt(k.value);if(isNaN(l))throw new Error("无效的时间戳");const e=$.value==="second"?l*1e3:l,n=new Date(e);if(n.toString()==="Invalid Date")throw new Error("无效的时间戳");w.value=E(n,b.value),V.value=n.toISOString()}catch{T.value="时间戳转换失败，请检查输入是否为有效数字",w.value="",V.value=""}},j=()=>{if(D.value="",!C.value){p.value="";return}try{const l=JSON.parse(C.value),e=O(l);p.value=JSON.stringify(e,null,2)}catch{D.value="JSON解析失败，请检查输入格式",p.value=""}},O=l=>{if(l==null)return l;if(Array.isArray(l))return l.map(e=>O(e));if(typeof l=="object"){const e={};for(const n in l)if(h(n,l[n])){const i=Number(l[n]),y=new Date(i*(le(i)?1e3:1));e[n]=l[n],e[`${n}_formatted`]=E(y,b.value)}else e[n]=O(l[n]);return e}return l},h=(l,e)=>{const n=["time","timestamp","date","created","updated","at"],i=l.toLowerCase();if(!(typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))))return!1;const v=Number(e),r=v>946684800&&v<4102444800||v>9466848e5&&v<41024448e5;return n.some(z=>i.includes(z))&&r||ee(v)},ee=l=>{const e=Math.floor(Date.now()/1e3),n=Date.now();return Math.abs(l-e)<15768e4||Math.abs(l-n)<15768e7},le=l=>l<1e10,te=()=>{C.value="",p.value="",D.value=""},f=async l=>{if(l)try{await navigator.clipboard.writeText(l),G.success("复制成功")}catch{G.error("复制失败，请手动复制")}};return oe(()=>{Y(),J=window.setInterval(Y,1e3),L(),N()}),ne(()=>{J!==null&&clearInterval(J)}),(l,e)=>{const n=m("el-button"),i=m("el-card"),y=m("el-option"),v=m("el-select"),r=m("el-form-item"),z=m("el-date-picker"),B=m("el-divider"),S=m("el-input"),x=m("el-col"),R=m("el-row"),P=m("el-alert"),K=m("el-form");return M(),W("div",de,[t(i,{class:"tool-card"},{header:a(()=>e[18]||(e[18]=[s("div",{class:"card-header"},[s("h3",null,"当前时间")],-1)])),default:a(()=>[s("div",ie,[s("p",null,[e[20]||(e[20]=s("strong",null,"当前日期时间:",-1)),d(" "+F(U.value)+" ",1),t(n,{size:"small",onClick:e[0]||(e[0]=o=>f(U.value))},{default:a(()=>e[19]||(e[19]=[d("复制")])),_:1})]),s("p",null,[e[22]||(e[22]=s("strong",null,"当前秒级时间戳:",-1)),d(" "+F(A.value)+" ",1),t(n,{size:"small",onClick:e[1]||(e[1]=o=>f(A.value.toString()))},{default:a(()=>e[21]||(e[21]=[d("复制")])),_:1})]),s("p",null,[e[24]||(e[24]=s("strong",null,"当前毫秒级时间戳:",-1)),d(" "+F(I.value)+" ",1),t(n,{size:"small",onClick:e[2]||(e[2]=o=>f(I.value.toString()))},{default:a(()=>e[23]||(e[23]=[d("复制")])),_:1})])])]),_:1}),t(i,{class:"tool-card"},{header:a(()=>e[25]||(e[25]=[s("div",{class:"card-header"},[s("h2",null,"时间戳转换工具")],-1)])),default:a(()=>[t(K,null,{default:a(()=>[t(r,{label:"时区选择"},{default:a(()=>[t(v,{modelValue:b.value,"onUpdate:modelValue":e[3]||(e[3]=o=>b.value=o),onChange:X},{default:a(()=>[(M(),W(se,null,re(Q,o=>t(y,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(R,{gutter:20},{default:a(()=>[t(x,{xs:24,sm:12},{default:a(()=>[t(i,{shadow:"never",class:"inner-card"},{header:a(()=>e[26]||(e[26]=[s("div",{class:"inner-card-header"},"日期转时间戳",-1)])),default:a(()=>[t(r,null,{default:a(()=>[t(z,{modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=o=>_.value=o),type:"datetime",placeholder:"选择日期和时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",onChange:L},null,8,["modelValue"])]),_:1}),t(B,{"content-position":"center"},{default:a(()=>e[27]||(e[27]=[d("转换结果")])),_:1}),t(r,{label:"秒级时间戳 (s)"},{default:a(()=>[s("div",me,[t(S,{modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=o=>c.value=o),readonly:""},null,8,["modelValue"]),t(n,{type:"primary",onClick:e[6]||(e[6]=o=>f(c.value)),disabled:!c.value},{default:a(()=>e[28]||(e[28]=[d("复制")])),_:1},8,["disabled"])])]),_:1}),t(r,{label:"毫秒级时间戳 (ms)"},{default:a(()=>[s("div",ve,[t(S,{modelValue:g.value,"onUpdate:modelValue":e[7]||(e[7]=o=>g.value=o),readonly:""},null,8,["modelValue"]),t(n,{type:"primary",onClick:e[8]||(e[8]=o=>f(g.value)),disabled:!g.value},{default:a(()=>e[29]||(e[29]=[d("复制")])),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1}),t(x,{xs:24,sm:12},{default:a(()=>[t(i,{shadow:"never",class:"inner-card"},{header:a(()=>e[30]||(e[30]=[s("div",{class:"inner-card-header"},"时间戳转日期",-1)])),default:a(()=>[t(r,null,{default:a(()=>[t(S,{modelValue:k.value,"onUpdate:modelValue":e[10]||(e[10]=o=>k.value=o),placeholder:"请输入时间戳",onInput:N},{append:a(()=>[t(v,{modelValue:$.value,"onUpdate:modelValue":e[9]||(e[9]=o=>$.value=o),style:{width:"110px"},onChange:N},{default:a(()=>[t(y,{label:"秒 (s)",value:"second"}),t(y,{label:"毫秒 (ms)",value:"millisecond"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),t(B,{"content-position":"center"},{default:a(()=>e[31]||(e[31]=[d("转换结果")])),_:1}),t(r,{label:"日期时间"},{default:a(()=>[s("div",pe,[t(S,{modelValue:w.value,"onUpdate:modelValue":e[11]||(e[11]=o=>w.value=o),readonly:""},null,8,["modelValue"]),t(n,{type:"primary",onClick:e[12]||(e[12]=o=>f(w.value)),disabled:!w.value},{default:a(()=>e[32]||(e[32]=[d("复制")])),_:1},8,["disabled"])])]),_:1}),t(r,{label:"ISO 8601 格式"},{default:a(()=>[s("div",fe,[t(S,{modelValue:V.value,"onUpdate:modelValue":e[13]||(e[13]=o=>V.value=o),readonly:""},null,8,["modelValue"]),t(n,{type:"primary",onClick:e[14]||(e[14]=o=>f(V.value)),disabled:!V.value},{default:a(()=>e[33]||(e[33]=[d("复制")])),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1})]),_:1}),T.value?(M(),Z(P,{key:0,title:T.value,type:"error","show-icon":"",style:{"margin-top":"15px"}},null,8,["title"])):q("",!0)]),_:1})]),_:1}),t(i,{class:"tool-card"},{header:a(()=>e[34]||(e[34]=[s("div",{class:"card-header"},[s("h2",null,"JSON格式化与时间戳转换")],-1)])),default:a(()=>[t(K,null,{default:a(()=>[t(R,{gutter:20},{default:a(()=>[t(x,{xs:24,sm:12},{default:a(()=>[t(r,null,{default:a(()=>[t(S,{modelValue:C.value,"onUpdate:modelValue":e[15]||(e[15]=o=>C.value=o),type:"textarea",rows:12,placeholder:"请输入JSON字符串"},null,8,["modelValue"])]),_:1}),t(r,null,{default:a(()=>[t(n,{type:"primary",onClick:j},{default:a(()=>e[35]||(e[35]=[d("格式化并转换时间戳")])),_:1}),t(n,{onClick:te},{default:a(()=>e[36]||(e[36]=[d("清空")])),_:1})]),_:1})]),_:1}),t(x,{xs:24,sm:12},{default:a(()=>[t(r,null,{default:a(()=>[t(S,{modelValue:p.value,"onUpdate:modelValue":e[16]||(e[16]=o=>p.value=o),type:"textarea",rows:12,readonly:"",placeholder:"格式化结果将显示在这里"},null,8,["modelValue"])]),_:1}),t(r,null,{default:a(()=>[t(n,{type:"primary",onClick:e[17]||(e[17]=o=>f(p.value)),disabled:!p.value},{default:a(()=>e[37]||(e[37]=[d("复制结果")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),D.value?(M(),Z(P,{key:0,title:D.value,type:"error","show-icon":"",style:{"margin-top":"15px"}},null,8,["title"])):q("",!0)]),_:1})]),_:1})])}}}),Ve=ue(ye,[["__scopeId","data-v-1f90c544"]]);export{Ve as default};
